jQuery(function(n){let t;function c(c){var e;!function(e){try{return n(e)[0].reportValidity()&&(0==n("#variation_id").length||""!=n("#variation_id").attr("value"))}catch(e){return!1}}("#wcdp-ajax-send")||(n("#wcdp-spinner").show(),n("#wcdp-ajax-button").hide(),e=n("#wcdp-ajax-send").serialize(),n.ajax({type:"POST",url:n("#wcdp-ajax-send").attr("action"),data:e}).done(function(e){var t;!0===e.success?(n(".woocommerce-error").remove(),n("body").trigger("update_checkout"),n("#wcdp-ajax-button").show(),n("#wcdp-spinner").hide(),e.recurring?(n("#createaccount").prop("checked",!0).trigger("change"),n(".create-account:has(#createaccount)").hide()):n(".create-account:has(#createaccount)").show(),d(c)):(t=e.message,e.reload||n("#wcdp-ajax-button").show(),n("#wcdp-spinner").hide(),n("#wcdp-ajax-error").remove(),n("form.checkout.woocommerce-checkout").prepend('<ul class="woocommerce-error" id="wcdp-ajax-error" role="alert"><li></li></ul>'),n("#wcdp-ajax-error li").text(t))}).fail(function(){n("#wcdp-spinner").hide(),n("#ajax-unexpected-error").show()}))}n("#wcdp-ajax-send").on("submit",function(e){e.preventDefault(),t!=n("#wcdp-ajax-send").serialize()?(t=n("#wcdp-ajax-send").serialize(),c("2")):d(2)});let e=0;n(".wcdp-body > #wcdp-ajax-send").on("input blur keyup paste change",function(){t!=n("#wcdp-ajax-send").serialize()&&(e++,t=n("#wcdp-ajax-send").serialize(),setTimeout(function(){e--,0==e&&c()},1300))});let a=0,o=0;n(".wcdp-body").on("input blur keyup paste change",function(){o!=n("#wcdp-donation-amount").val()&&(n(".wcdp-express-amount").val(n("#wcdp-donation-amount").val()),o=n("#wcdp-donation-amount").val(),a++,setTimeout(function(){a--,0==a&&n(document.body).trigger("woocommerce_variation_has_changed")},500))});let i=1;function d(e){switch(n(":root")[0].style.setProperty("--wcdp-step-2","var(--wcdp-main)"),n(":root")[0].style.setProperty("--wcdp-step-3","var(--wcdp-main)"),e){case"3":n("#wcdp-step-2").show(),n("form.checkout").find(".input-text:visible, select:visible, input:checkbox:visible").trigger("validate"),0<n("#wcdp-step-2 .woocommerce-invalid:visible").length?(n("#wcdp-invalid-fields").show(),n("#place_order").hide()):(n("#wcdp-invalid-fields").hide(),n("#place_order").show()),n(":root")[0].style.setProperty("--wcdp-step-3","var(--wcdp-main-2)");case"2":n(":root")[0].style.setProperty("--wcdp-step-2","var(--wcdp-main-2)");case"1":break;default:return}n(".wcdp-style5-active").removeClass("wcdp-style5-active"),n("#wcdp-style5-step-"+e).addClass("wcdp-style5-active"),n("#wcdp-progress-bar").css("width",33.33*(parseInt(e)-1)+"%"),n(".wcdp-tab").hide(),n("#wcdp-step-"+e).show(),i=e}n(".wcdp-button,.wcdp-step").click(function(){var e=n(this).attr("value");1!=i?d(e):1!=e&&(t!=n("#wcdp-ajax-send").serialize()?(t=n("#wcdp-ajax-send").serialize(),c(e)):d(e))});let r=10;function p(){0<n("#wc-stripe-payment-request-button").children().length+n("#ppc-button").children().length?n(".wcdp-express-heading").show():r<1e4&&(r*=2,setTimeout(p,r))}n(document).ready(function(){n(".woocommerce-checkout select").selectWoo(),n(".wcdp-loader").hide(),n(".wc-donation-platform").css({visibility:"visible","animation-name":"wcdp-appear-animation","animation-duration":"1s"}),l(!1);try{n(".wcdp-choose-donation")[0].checkValidity()&&(t=n("#wcdp-ajax-send").serialize(),c())}finally{n("#wcdp-ajax-send,.wcdp_options").trigger("change"),setTimeout(p,r)}}),window.onhashchange=function(){l(!1)},n(".wcdp-modal-open").click(function(){l(!0)}),n(document).on("keypress","input",function(e){"Escape"==e.key&&u()}),n(".wcdp-modal-close").click(u);var s=!1;function u(){s&&(n(".wcdp-overlay").hide(),n("body").css("overflow-y"," auto"),history.pushState("",document.title,window.location.pathname+window.location.search),s=!1)}function l(e){const t=n(".wcdp-overlay");(e||"#wcdp-form"==location.hash&&0<t.length)&&(t.show(),n("body").css("overflow-y","hidden"),s=!0)}n(".wcdp_options").change(function(){var e=this.attributes["wcdp-name"].value,t=n('input[name="'+e+'"]:checked').val();t&&(n("#wcdp-"+e).val(t),n("#"+e).val(t),n("#"+e).trigger("change"))}),n(document).on("change","#wcdp_fee_recovery",function(){setTimeout(function(){n("body").trigger("update_checkout")},400)}),n(document).on("change","input[name='payment_method']",function(){n("#wcdp_fee_recovery").prop("checked")&&setTimeout(function(){n("body").trigger("update_checkout")},400)}),n("#wcdp-range").on("input",function(){n("#wcdp-donation-amount").val(n("#wcdp-range").val()),n("#wcdp-range").val()==n("#wcdp-range").attr("max")&&n("#wcdp-donation-amount").select()}),n(".wcdp-amount-range-field").on("input",function(){n("#wcdp-range").val(n("#wcdp-donation-amount").val())}),n("#wcdp-donation-amount").on("change",function(){var e="#wcdp_value_"+n("#wcdp-donation-amount").val().replace(/./g,"-");(0==n(e).length?n("#wcdp_value_other"):n(e)).prop("checked",!0)}),n("#wcdp_value_other").click(function(){n("#wcdp-donation-amount").focus()}),n(".wcdp-choose-donation").on("change",function(){n(".wcdp_su input").each(function(){0==n("#"+this.name+' option[value="'+this.value+'"]').length?this.setAttribute("disabled","true"):this.removeAttribute("disabled")})})});
