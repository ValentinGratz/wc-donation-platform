jQuery(function(a){function b(b){if(c("#wcdp-ajax-send")){a("#wcdp-spinner").show(),a("#wcdp-ajax-button").hide();const c=a("#wcdp-ajax-send").serialize();a.ajax({type:"POST",url:a("#wcdp-ajax-send").attr("action"),data:c}).done(function(c){switch(c.success){case!0:a(".woocommerce-error").remove(),a("body").trigger("update_checkout"),a("#wcdp-ajax-button").show(),a("#wcdp-spinner").hide(),c.recurring?(a("#createaccount").prop("checked",!0).trigger("change"),a(".create-account:has(#createaccount)").hide()):a(".create-account:has(#createaccount)").show(),f(b);break;default:d(c.message,c.reload);}}).fail(function(){a("#wcdp-spinner").hide(),a("#ajax-unexpected-error").show()})}}function c(b){try{return a(b)[0].reportValidity()&&(0==a("#variation_id").length||""!=a("#variation_id").attr("value"))}catch(a){return!1}}function d(b,c){c||a("#wcdp-ajax-button").show(),a("#wcdp-spinner").hide(),a("#wcdp-ajax-error").remove(),a("form.checkout.woocommerce-checkout").prepend("<ul class=\"woocommerce-error\" id=\"wcdp-ajax-error\" role=\"alert\"><li></li></ul>"),a("#wcdp-ajax-error li").text(b)}function f(b){switch(a(":root")[0].style.setProperty("--wcdp-step-2","var(--wcdp-main)"),a(":root")[0].style.setProperty("--wcdp-step-3","var(--wcdp-main)"),b){case"3":a("#wcdp-step-2").show(),a("form.checkout").find(".input-text:visible, select:visible, input:checkbox:visible").trigger("validate"),0<a("#wcdp-step-2 .woocommerce-invalid:visible").length?(a("#wcdp-invalid-fields").show(),a("#place_order").hide()):(a("#wcdp-invalid-fields").hide(),a("#place_order").show()),a(":root")[0].style.setProperty("--wcdp-step-3","var(--wcdp-main-2)");case"2":a(":root")[0].style.setProperty("--wcdp-step-2","var(--wcdp-main-2)");case"1":break;default:return;}a(".wcdp-style5-active").removeClass("wcdp-style5-active"),a("#wcdp-style5-step-"+b).addClass("wcdp-style5-active"),a("#wcdp-progress-bar").css("width",33.33*(parseInt(b)-1)+"%"),a(".wcdp-tab").hide(),a("#wcdp-step-"+b).show(),n=b}function g(){0<a("#wc-stripe-payment-request-button").children().length+a("#ppc-button").children().length?a(".wcdp-express-heading").show():1e4>o&&(o*=2,setTimeout(g,o))}function h(){p&&(a(".wcdp-overlay").hide(),a("body").css("overflow-y"," auto"),history.pushState("",document.title,window.location.pathname+window.location.search),p=!1)}function i(b){const c=a(".wcdp-overlay");(b||"#wcdp-form"==location.hash&&0<c.length)&&(c.show(),a("body").css("overflow-y","hidden"),p=!0)}let j;a("#wcdp-ajax-send").on("submit",function(c){c.preventDefault(),j==a("#wcdp-ajax-send").serialize()?f(2):(j=a("#wcdp-ajax-send").serialize(),b("2"))});let k=0;a(".wcdp-body > #wcdp-ajax-send").on("input blur keyup paste change",function(){j!=a("#wcdp-ajax-send").serialize()&&(k++,j=a("#wcdp-ajax-send").serialize(),setTimeout(function(){k--,0==k&&b()},1300))});let l=0,m=0;a(".wcdp-body").on("input blur keyup paste change",function(){a(".wcdp-express-amount").val(a("#wcdp-donation-amount").val()),l++,setTimeout(function(){l--,0==l&&m!=a("#wcdp-donation-amount").val()&&(m=a("#wcdp-donation-amount").val(),a(document.body).trigger("woocommerce_variation_has_changed"))},500)});let n=1;a(".wcdp-button,.wcdp-step").click(function(){const c=a(this).attr("value");1==n?1!=c&&(j==a("#wcdp-ajax-send").serialize()?f(c):(j=a("#wcdp-ajax-send").serialize(),b(c))):f(c)});let o=10;a(document).ready(function(){a(".woocommerce-checkout select").selectWoo(),a(".wcdp-loader").hide(),a(".wc-donation-platform").css({visibility:"visible","animation-name":"wcdp-appear-animation","animation-duration":"1s"}),i(!1);try{a(".wcdp-choose-donation")[0].checkValidity()&&(j=a("#wcdp-ajax-send").serialize(),b())}finally{a("#wcdp-ajax-send,.wcdp_options").trigger("change"),setTimeout(g,o)}}),window.onhashchange=function(){i(!1)},a(".wcdp-modal-open").click(function(){i(!0)}),a(document).on("keypress","input",function(a){"Escape"==a.key&&h()}),a(".wcdp-modal-close").click(h);var p=!1;a(".wcdp_options").change(function(){var b=this.attributes["wcdp-name"].value,c=a("input[name=\""+b+"\"]:checked").val();c&&(a("#wcdp-"+b).val(c),a("#"+b).val(c),a("#"+b).trigger("change"))}),a(document).on("change","#wcdp_fee_recovery",function(){setTimeout(function(){a("body").trigger("update_checkout")},400)}),a(document).on("change","input[name='payment_method']",function(){a("#wcdp_fee_recovery").prop("checked")&&setTimeout(function(){a("body").trigger("update_checkout")},400)}),a("#wcdp-range").on("input",function(){a("#wcdp-donation-amount").val(a("#wcdp-range").val()),a("#wcdp-range").val()==a("#wcdp-range").attr("max")&&a("#wcdp-donation-amount").select()}),a(".wcdp-amount-range-field").on("input",function(){a("#wcdp-range").val(a("#wcdp-donation-amount").val())}),a("#wcdp-donation-amount").on("change",function(){var b="#wcdp_value_"+a("#wcdp-donation-amount").val().replace(/./g,"-");0==a(b).length?a("#wcdp_value_other").prop("checked",!0):a(b).prop("checked",!0)}),a("#wcdp_value_other").click(function(){a("#wcdp-donation-amount").focus()}),a(".wcdp-choose-donation").on("change",function(){a(".wcdp_su input").each(function(){0==a("#"+this.name+" option[value=\""+this.value+"\"]").length?this.setAttribute("disabled","true"):this.removeAttribute("disabled")})})});
